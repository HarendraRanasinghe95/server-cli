service: bm-example-api-blinkm-io
provider:
  name: aws
  runtime: nodejs4.3
  region: ap-southeast-2
  stage: prod
  deploymentBucket: deployment-bucket
  role: execution-role
  vpc:
    securityGroupIds:
      - '123'
      - '456'
    subnetIds:
      - abc
      - def
functions:
  bm-example-api-blinkm-io-prod--request:
    events:
      - http: ANY request
    handler: handler.handler
    name: bm-example-api-blinkm-io-prod--request
    description: /request
    timeout: 5
  bm-example-api-blinkm-io-prod--books:
    events:
      - http: ANY books
    handler: handler.handler
    name: bm-example-api-blinkm-io-prod--books
    description: /books
    timeout: 5
  bm-example-api-blinkm-io-prod--books--id-:
    events:
      - http: 'ANY books/{id}'
    handler: handler.handler
    name: bm-example-api-blinkm-io-prod--books--id-
    description: '/books/{id}'
    timeout: 15
  bm-example-api-blinkm-io-prod--books--id--chapters--chapterNo-:
    events:
      - http: 'ANY books/{id}/chapters/{chapterNo}'
    handler: handler.handler
    name: bm-example-api-blinkm-io-prod--books--id--chapters--chapterNo-
    description: '/books/{id}/chapters/{chapterNo}'
    timeout: 15
resources:
  Resources:
    ProxyMethod:
      Type: 'AWS::ApiGateway::Method'
      Properties:
        AuthorizationType: NONE
        ResourceId:
          'Fn::GetAtt':
            - ApiGatewayRestApi
            - RootResourceId
        RestApiId:
          Ref: ApiGatewayRestApi
        HttpMethod: GET
        MethodResponses:
          - ResponseParameters:
              method.response.header.Content-Type: integration.response.header.Content-Type
            StatusCode: 200
        Integration:
          IntegrationHttpMethod: GET
          Type: HTTP
          Uri: 'https://blinkmobile.github.io/server-cli/root-route.html'
          IntegrationResponses:
            - ResponseParameters:
                method.response.header.Content-Type: integration.response.header.Content-Type
              StatusCode: 200
